{"version":3,"sources":["pages/Join.tsx","pages/Room.tsx","layout/Header.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Join","socket","useState","name","setName","Grid","container","justifyContent","style","padding","marginTop","item","xs","Paper","direction","alignItems","spacing","TextField","onChange","e","target","value","variant","Button","component","Nav","to","Room","location","setRoom","message","setMessage","messages","setMessages","console","log","useEffect","socketClient","queryString","parse","search","room","emit","off","on","map","index","user","onKeyPress","key","sendMessage","onClick","Header","AppBar","position","Hidden","smUp","IconButton","edge","color","aria-label","Typography","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8544dc8f.chunk.js","sourcesContent":["import Grid  from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { useState } from \"react\";\nimport { Link as Nav} from \"react-router-dom\";\n\nfunction Join() {\n  const [name, setName] = useState(\"\"); \n  const [room, setRoom] = useState(\"\"); \n  return (\n    <Grid container justifyContent=\"center\" style={{ padding: \"1em\", marginTop: '10px' }}>\n      <Grid item xs={6}>\n        <Paper>\n          <Grid container direction=\"column\" alignItems=\"center\" spacing={3}>\n            <Grid item>이름을 입력하고 입장을 하시오.</Grid>\n            <Grid item>\n              <TextField\n                name=\"userName\"\n                onChange={(e) => {\n                  setName(e.target.value);\n                }}\n                variant=\"outlined\"\n              ></TextField>\n            </Grid>\n            {/* <Grid item>\n              <TextField\n                name=\"roomName\"\n                onChange={(e) => {\n                  setRoom(e.target.value);\n                }}\n              ></TextField>\n            </Grid> */}\n            <Grid item>\n              <Button variant=\"contained\"  component={Nav} to={`/room?name=${name}`}>\n                입장\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n}\nexport default Join;\n","import queryString from \"query-string\";\nimport {useEffect, useState} from \"react\";\nimport socketClient from \"socket.io-client\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst Server = \"/\";\nlet socket;\n\nfunction Room({location}) {\n  const [name, setName] = useState(\"\"); \n  const [room, setRoom] = useState(\"\"); \n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  console.log(messages);\n \n  useEffect(()=>{\n    socket = socketClient(Server);\n    const {name, room} = queryString.parse(location.search);\n    setName(name);\n    setRoom(room);\n\n    socket.emit(\"join\", { name, room }, (value) => {\n      console.log(value)\n    });\n\n    return ()=>{\n      socket.emit('disconnect');\n      socket.off();\n    }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[Server, location.search]);\n\n  useEffect(()=>{\n    socket.on(\"message\",(message)=>{\n      setMessages(messages => [ ...messages, message ]);\n    });\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const sendMessage = (e)=> {\n    if(message && e.key === \"Enter\"){\n      socket.emit(\"sendMessage\",name, message,()=>{setMessage(\"\")});\n    }\n  };\n  return (\n    <Grid container justifyContent=\"center\" style={{ padding: \"1em\" }}>\n      <Grid item xs={6}>\n        <Paper>\n          <Grid container direction=\"column\">\n            {messages.map((index) => {\n              if(name === index.name){\n                return (\n               \n                  <Grid container justifyContent=\"flex-end\">\n                    <Grid>{index.name}: </Grid>\n                    <Grid>{index.message}</Grid>\n                  </Grid>\n                )\n              }else if(index.user === 'admin') {\n                return (\n                  <Grid container direction=\"column\" alignItems=\"center\" justifyContent=\"flex-start\">\n                    <Grid>{index.name}</Grid>\n                    <Grid>{index.message}</Grid>\n                  </Grid>\n                )\n              }else {\n                return (\n                  <Grid container  justifyContent=\"flex-start\">\n                    <Grid>{index.name}: </Grid>\n                    <Grid>{index.message}</Grid>\n                  </Grid>\n                )\n              }\n              \n            })}\n          </Grid>\n          <Grid container justifyContent=\"center\" >\n              <TextField\n                variant=\"outlined\"\n                value={message}\n                onChange={(e) => {\n                  setMessage(e.target.value);\n                }}\n                onKeyPress={(e) => {\n                  sendMessage(e);\n                }}\n              />\n              <Button variant=\"contained\" onClick={()=>{ socket.emit(\"sendMessage\",user, message,()=>{setMessage(\"\")});}}>전송</Button>\n            </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n}\nexport default Room;\n","import AppBar from \"@material-ui/core/AppBar\";\nimport ToolBar from \"@material-ui/core/Toolbar\"\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Hidden from \"@material-ui/core/Hidden\";\n\nfunction Header(){\n    return(\n        <AppBar position=\"static\">\n            <ToolBar>\n                    <Hidden smUp>\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n                            <MenuIcon />\n                        </IconButton>\n                    </Hidden>\n                <Typography variant=\"h6\">채팅 어플리케이션</Typography>\n            </ToolBar>\n        </AppBar>\n    )\n}\nexport default Header;","import { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport { Join, Room }  from \"./pages/index.js\";\nimport { Header, SideMenu } from \"./layout/index.js\"\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      {/* <SideMenu /> */}\n        <Switch>\n          <Route exact path=\"/\" component={Join} />\n          <Route path=\"/room\" component={Room} />\n        </Switch>\n     \n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}